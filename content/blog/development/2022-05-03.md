---
title: '[TS] Typescript의 타입 시스템'
date: 2022-05-03 09:44:59
category: development
thumbnail: 'ts'
draft: false
img: true
---

## Typescript 작동 방식

이전에는 왜 TS를 써야 하는지에 대해 간단히 정리해 보았다. 결론만 정리해보면 다음과 같다.

> "JS는 수많은 런타임 에러 가능성을 내포하고 있다. 유저에게 좋은 경험을 선사해야 할 의무가 있는 개발자는 이러한 런타임 에러를 줄이기 위해 TS를 사용한다."

그렇다면 이제 TS가 뭔지 알아보자. TS 공식홈페이지에서는 TS를 다음과 같이 소개하고 있다.

> "strongly typed programming language"

결국 TS도 프로그래밍 언어이다. 만약 첫 언어로 JS가 아닌 `C#`, `Java` 등을 선택했다면, 프로그래밍 언어라고 하면 '컴파일러'를 떠올리게 될 것이다. 이러한 언어는 개발자가 작성한 코드를 컴퓨터가 이해할 수 있는 코드로 변환시켜준다. TS의 경우는 작성한 코드가 JS로 변환된다. JS로 변환되는 이유는 브라우저가 TS가 아닌 JS만 이해할 수 있기 때문이다.

앞서 작성한 글에서 TS는 개발자가 실수하지 않도록 하는 강력한 보호장치를 가지고 있다고 하였다. 근데 TS가 그저 코드를 JS로 변환해줄 뿐이라면, 도대체 어떤 방식으로 개발자를 보호해 준다는 걸까?

TS가 제공하는 보호장치는 TS코드가 JS코드로 컴파일되기 전에 발생한다. 즉, TS가 먼저 우리의 코드를 확인한 다음 변환된 JS 안에서 바보같은 실수가 일어나지 않게 확인을 해 준다.

일단 JS 코드를 작성해서 그 코드를 컴파일하면 평소 친숙했던 일반적인 JS 코드가 된다. 하지만, TS 코드에 에러가 있다면 그 코드는 JS로 컴파일되지 않는다. 다시 말해, TS가 에러가 발생할 것같은 코드를 감지하면 JS로 아예 컴파일이 되지 않는다.

이런 보호장치는 유저가 코드를 실행하는 runtime에 발생하는 것이 아니다. 유저는 그냥 일반 JS 코드를 사용할 뿐이다.
만약 TS가 성공적으로 컴파일되어 JS 코드를 만들면 그 의미는 TS 코드도 제대로 작성된 거고 타입에도 문제가 없었다는 뜻이 된다. 이러한 보호장치가 생기는 이유는 TS의 타입 시스템 (type system) 덕분이다.

## Implicit Types vs Explicit Types

TS의 타입 시스템을 이해해보자. 만약 처음 배운 언어가 JS라면 타입 시스템에 대해서 많이 낮설 것이다. 왜냐면 JS에서는 그냥 변수를 생성하기만 하면 되기 때문이다. 그 변수가 어떤 type인지는 지정해주지 않아도 된다. C나 C++ 같은 **강타입 언어**는 모든 것의 타입을 다 정해주어야 한다. 그러니까 변수를 생성한다면 그게 어떤 타입인지 정해주어야 한다.

TS는 타입을 정하는 방식을 2가지로 두었다.

- **Implicit Types** : 개발자가 작성한 코드를 통해 TS가 타입 추론
- **Explicit Types** : 개발자가 직접 타입을 명시

### Implicit Types

```js
let a = 'hello' // 타입 추론 (type inference)으로 변수 a의 타입은 string이 됨
a = 1 // 컴파일 에러 발생 => a는 string 타입 변수이기 때문에 number 타입의 값이 올 수 없음
```

배열 또한 타입 추론이 된다.

```js
let array = [1, 2, 3]
// 타입 추론 (type inference)으로 변수 array의 타입은 number[]이 됨
```

### Explicit Types

```js
let a: boolean = 'hello world!'
// 컴파일 에러 => 명시적인 타입지정으로 a: boolean이다. 따라서 string 타입의 값이 올 수 없다.
```

### 둘 중 어느 방식이 더 좋은가?

**Nomad Coder**가 말하기를, TS가 알아서 타입을 추론하는 편이 코드량 측면에서'**는**' 더 좋다고 한다. 하지만 모든 것이 다 그런 건 아니기 때문에 결국 그떄그떄 상황에 따라 원하는 방식을 고르면 좋을 것 같다!
