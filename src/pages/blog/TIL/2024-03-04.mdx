---
title: "[K8S] 프론트엔드 개발자의 EKS 경험기 2️⃣"
date: 2024-03-04 14:03:60
category: til
thumbnail: 'k8s'
description: '도커 이미지 AWS ECR에 업로드하기'
draft: true
---

import Layout from '/src/templates/blog-post';
export default Layout;

## ⬆️ 도커 이미지 AWS ECR에 업로드하기

![](https://i.imgur.com/QcfTF7E.png)

이전 글에서 내 개발블로그 프로젝트를 도커라이징하는 데 성공하였다. 이번에는 이 도커 이미지를 AWS ECR에 업로드하는 과정을 정리해보겠다.

도커 이미지를 빌드하는 것은 성공하였고, 이를 ECR에 업로드해야 하는 상황인데, 이미지를 빌드할 때마다 개발자가 일일히 수동으로 ECR에 업로드하는 것은 매우 비효율적일 것이다.

이러한 번거로움을 해소하기 위해 **Github Actions**를 사용할 것이다. Github Actions를 사용하면 코드를 푸시할 때마다 자동으로 도커 이미지를 빌드하고 ECR에 업로드할 수 있다.

### 1. AWS ECR 레지스트리 생성

AWS ECR은 **Public**, **Private** 두 종류의 레지스트리를 제공한다. 나의 경우 Private 레지스트리를 사용하였는데, <u>월 요금이 1달러 미만</u>으로 나왔기 때문에 실습할 때 굳이 Public을 사용하지 않아도 될 것 같다.

![](https://i.imgur.com/e9bBJik.png)

Amazon ECR > 프라이빗 레지스트리 > 리포지토리 항목으로 들어가서 `리포지토리 생성` 버튼을 클릭한다.

![](https://i.imgur.com/BotNwvZ.png)

리포지토리 타입이 `프라이빗`으로 선택되어 있는지 확인하고, 리포지토리 이름을 입력한다.

나의 경우 [깃허브 레포지토리 이름](https://github.com/shren207/greenhead-blog)과 동일하게 `greenhead-blog`로 입력하였다.

그 외 나머지 설정은 기본값으로 두고 생성하도록 한다.

![](https://i.imgur.com/utYHWU1.png)

그렇다면 정상적으로 `greenhead-blog`라는 이름의 ECR 프라이빗 레포지토리가 생성된 것을 확인할 수 있다.

### 2. Github Actions를 위한 AWS IAM 계정 생성

Github Actions가 AWS 리소스에 접근하기 위해서는, AWS IAM 서비스 계정을 생성하여 해당 계정에 권한을 부여해야 한다.

[//]: # (### 2. Github Actions 워크플로우 작성)

[//]: # ()
[//]: # (이제, Github Actions를 이용하여 도커 이미지를 빌드하고 ECR에 업로드하는 워크플로우를 작성해보자.)




